import{b as k,u as C,r as p,j as e,C as l,L as d}from"./index-B3Ma6YUV.js";import{f as x}from"./format-DWPfdaBu.js";import{U as R}from"./users-DAwPQmrI.js";import{c as u}from"./createLucideIcon-Cxa5orDZ.js";const E=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],L=u("calendar",E);const F=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],T=u("droplet",F);const U=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_=u("trending-up",U),Y=()=>{const{customers:c,diaryEntries:a,subscription:j}=k(),{user:b}=C(),o=(b?.email?.toLowerCase()||"")==="larawansdigital@gmail.com"?null:j?.entryLimit??3,h=a.length,m=o===null?null:Math.max(o-h,0),n=p.useMemo(()=>{const t=x(new Date,"yyyy-MM"),r=a.filter(s=>s.date.startsWith(t)),N=r.reduce((s,i)=>s+i.amount,0),v=r.reduce((s,i)=>s+i.quantity,0),w=r.filter(s=>s.delivered).length,M=x(new Date,"yyyy-MM-dd"),g=a.filter(s=>s.date===M),D=g.reduce((s,i)=>s+i.amount,0);return{totalCustomers:c.length,monthlyRevenue:N,monthlyQuantity:v,monthlyDeliveries:w,todayRevenue:D,todayDeliveries:g.length}},[c,a]),y=p.useMemo(()=>a.sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime()).slice(0,5),[a]),f=t=>c.find(r=>r.id===t)?.name||"Unknown";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-slate-50",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-slate-300 mt-1",children:"Welcome back! Here's your business overview."})]}),o!==null&&e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"rounded-lg bg-yellow-50 dark:bg-yellow-900/40 border border-yellow-200 dark:border-yellow-700 px-4 py-3 text-sm text-yellow-800 dark:text-yellow-100",children:[e.jsxs("p",{className:"font-medium",children:["Demo usage: ",h," of ",o," free entries used."]}),m!==null&&m>0?e.jsxs("p",{className:"mt-1",children:["You have ",e.jsx("span",{className:"font-semibold",children:m})," free entries left."]}):e.jsx("p",{className:"mt-1",children:"Your free entries are finished. Please contact the owner to upgrade your subscription."})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(l,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Customers"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:n.totalCustomers})]}),e.jsx(R,{className:"text-blue-600",size:40})]})}),e.jsx(l,{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Monthly Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-green-900 mt-1",children:["₹",n.monthlyRevenue.toFixed(0)]})]}),e.jsx(_,{className:"text-green-600",size:40})]})}),e.jsx(l,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Monthly Quantity"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-900 mt-1",children:[n.monthlyQuantity.toFixed(0)," L"]})]}),e.jsx(T,{className:"text-purple-600",size:40})]})}),e.jsx(l,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Monthly Deliveries"}),e.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-1",children:n.monthlyDeliveries})]}),e.jsx(L,{className:"text-orange-600",size:40})]})})]}),e.jsxs(l,{title:"Today's Summary",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Deliveries"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.todayDeliveries})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["₹",n.todayRevenue.toFixed(2)]})]})]}),e.jsx(d,{to:"/diary",className:"block mt-4",children:e.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Add Today's Deliveries"})})]}),e.jsx(l,{title:"Recent Deliveries",children:y.length>0?e.jsx("div",{className:"space-y-3",children:y.map(t=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-b-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:f(t.customerId)}),e.jsx("p",{className:"text-sm text-gray-600",children:x(new Date(t.date),"MMM dd, yyyy")})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["₹",t.amount.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.quantity," L"]})]})]},t.id))}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No deliveries yet"})}),e.jsx(l,{title:"Quick Actions",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(d,{to:"/customers",children:e.jsx("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium py-3 px-4 rounded-lg transition-colors",children:"Manage Customers"})}),e.jsx(d,{to:"/diary",children:e.jsx("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium py-3 px-4 rounded-lg transition-colors",children:"Add Delivery"})}),e.jsx(d,{to:"/reports",children:e.jsx("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium py-3 px-4 rounded-lg transition-colors",children:"View Reports"})})]})})]})};export{Y as Dashboard};
